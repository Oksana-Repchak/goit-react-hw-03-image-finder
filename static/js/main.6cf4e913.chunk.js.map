{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","services/imagesServices.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["module","exports","BASE_URL","API_KEY","a","imageName","currentPage","searchQuery","fetch","response","json","data","hits","api","fetchImages","Searchbar","state","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","alt","s","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","tags","id","App","isLoading","error","onChangeQuery","options","imagesServices","then","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","message","color","height","width","timeout","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6cf4e913.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1R5Bq\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2kqUO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3924r\"};","const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '18966103-245a37f9e820c36a1856c1db9';\n\nasync function fetchImages({ imageName, currentPage }) {\n  const searchQuery = `?q=${imageName}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  try {\n    const response = await fetch(`${BASE_URL}/${searchQuery}`);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    return error('Some error in fetch');\n  }\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Searchbar extends Component {\n  state = { imageName: '' };\n\n  handleChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageName.trim() === '') {\n      toast('Please enter search query');\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.imageName}\n            onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ src, alt }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img src={src} alt={alt} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          //   webformatURL={el.webformatURL}\r\n          //   largeImageURL={el.largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport imagesServices from './services/imagesServices';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    images: [],\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = imageName => {\n    this.setState({\n      imageName,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { imageName, currentPage } = this.state;\n    const options = { imageName, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesServices\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={this.state.images} />\n        {isLoading && (\n          <Loader\n            type=\"Hearts\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {shouldRenderLoadMoreButton && (\n          <button type=\"button\" onClick={this.fetchImages}>\n            Загрузить ещё\n          </button>\n        )}\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}