{"version":3,"sources":["services/articlesApi.js","components/Searchbar/Searchbar.jsx","App.js","index.js"],"names":["BASE_URL","API_KEY","a","searchImage","currentPage","searchQuery","fetch","response","json","data","console","log","hits","api","fetchImages","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","placeholder","Component","ImageGallery","map","id","webformatURL","title","src","alt","App","isLoading","error","onChangeQuery","fetchArticles","options","articlesApi","then","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","message","color","height","width","timeout","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iTAAMA,EAAW,0BACXC,EAAU,qC,4CAEhB,qCAAAC,EAAA,6DAA6BC,EAA7B,EAA6BA,YAAaC,EAA1C,EAA0CA,YAClCC,EADR,aAC4BF,EAD5B,iBACgDC,EADhD,gBACmEH,EADnE,0EAG2BK,MAAM,GAAD,OAAIN,EAAJ,YAAgBK,IAHhD,cAGUE,EAHV,gBAIuBA,EAASC,OAJhC,cAIUC,EAJV,OAKIC,QAAQC,IAAIJ,GACZG,QAAQC,IAAIF,EAAKG,MANrB,kBAOWH,EAAKG,MAPhB,2DASW,KAAM,wBATjB,2D,sBA6BA,IAIeC,EAJH,CACVC,Y,6CCeaC,E,4MA7CbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,QACvCZ,QAAQC,IAAIQ,EAAEE,cAAcC,Q,EAG9BC,aAAe,SAAAJ,GACbA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/BP,QAAQC,IAAI,EAAKK,MAAMC,OAEvB,EAAKG,SAAS,CAAEH,MAAO,M,uDAIvB,OASE,aARA,CAQA,UAAQU,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaD,SAAUE,KAAKL,aAA5C,UACE,wBAAQM,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLP,MAAOM,KAAKZ,MAAMC,MAClBa,SAAUF,KAAKV,aACfa,YAAY,sC,GAtCAC,aCGlBC,EAAe,SAAC,GAAD,IAAGrB,EAAH,EAAGA,KAAH,OACnB,oBAAIe,UAAU,eAAd,SACGf,EAAKsB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,MAArB,OACR,6BACE,qBACEC,IAAKF,EAELG,IAAKF,KAJAF,SAmFAK,E,4MAvEbxB,MAAQ,CACNX,YAAa,GACbO,KAAM,GACNR,YAAa,EACbqC,WAAW,EACXC,MAAO,M,EASTC,cAAgB,SAAA1B,GACd,EAAKG,SAAS,CACZf,YAAaY,EACbb,YAAa,EACbQ,KAAM,GACN8B,MAAO,Q,EAIXE,cAAgB,WAAO,IAAD,EACiB,EAAK5B,MAAlCZ,EADY,EACZA,YACFyC,EAAU,CAAExC,YAFE,EACCA,YACUD,eAE/B,EAAKgB,SAAS,CAAEqB,WAAW,IAE3BK,EACGhC,YAAY+B,GACZE,MAAK,SAAAnC,GACJ,EAAKQ,UAAS,SAAA4B,GAAS,MAAK,CAC1BpC,KAAK,GAAD,mBAAMoC,EAAUpC,MAAhB,YAAyBA,IAC7BR,YAAa4C,EAAU5C,YAAc,SAGxC6C,OAAM,SAAAP,GAAK,OAAI,EAAKtB,SAAS,CAAEsB,aAC/BQ,SAAQ,kBAAM,EAAK9B,SAAS,CAAEqB,WAAW,Q,iEA9B3BU,EAAWH,GACxBA,EAAU3C,cAAgBuB,KAAKZ,MAAMX,aACvCuB,KAAKgB,kB,+BA8BC,IAAD,EAC4BhB,KAAKZ,MAAhCJ,EADD,EACCA,KAAM6B,EADP,EACOA,UAAWC,EADlB,EACkBA,MACnBU,EAA6BxC,EAAKyC,OAAS,IAAMZ,EAEvD,OACE,qCACGC,GAAS,+DAAkCA,EAAMY,WAElD,cAAC,EAAD,CAAW5B,SAAUE,KAAKe,gBAEzB/B,EAAKyC,OAAS,GAAK,cAAC,EAAD,CAAczC,KAAMA,IAEvC6B,GACC,cAAC,IAAD,CACEZ,KAAK,SACL0B,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,MAIZN,GACC,wBAAQvB,KAAK,SAAS8B,QAAS/B,KAAKgB,cAApC,8F,GAhEQZ,aCdlB4B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a6cc48d4.chunk.js","sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '18966103-245a37f9e820c36a1856c1db9';\n\nasync function fetchImages({ searchImage, currentPage }) {\n  const searchQuery = `?q=${searchImage}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  try {\n    const response = await fetch(`${BASE_URL}/${searchQuery}`);\n    const data = await response.json();\n    console.log(response);\n    console.log(data.hits);\n    return data.hits;\n  } catch (error) {\n    return error('Some error in fetch');\n  }\n}\n\n// function fetchImages({ searchImage, currentPage }) {\n// const searchQuery = `?image_type=photo&orientation=horizontal&q=${searchImage}&page=${currentPage}&per_page=12&key=${API_KEY}`;\n\n//   return fetch(`${BASE_URL}/${searchQuery}`).then(response => {\n//     if (response.ok) {\n//       const data = response;\n\n//       return console.log(data);\n//     }\n\n//     return Promise.reject(\n//       new Error(`Немає картинки з такою назвою ${searchImage}`),\n//     );\n//   });\n// }\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n    console.log(e.currentTarget.value);\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    console.log(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      //   <form onSubmit={this.handleSubmit}>\r\n      //     <input\r\n      //       type=\"text\"\r\n      //       value={this.state.query}\r\n      //       onChange={this.handleChange}\r\n      //     />\r\n      //     <button type=\"submit\">Искать</button>\r\n      //   </form>\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport articlesApi from './services/articlesApi';\nimport Searchbar from './components/Searchbar';\n\nconst ImageGallery = ({ hits }) => (\n  <ul className=\"ImageGallery\">\n    {hits.map(({ id, webformatURL, title }) => (\n      <li key={id}>\n        <img\n          src={webformatURL}\n          // data-source={{ largeImageURL }}\n          alt={title}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    hits: [],\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchArticles();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchArticles = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    articlesApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  render() {\n    const { hits, isLoading, error } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <>\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {hits.length > 0 && <ImageGallery hits={hits} />}\n\n        {isLoading && (\n          <Loader\n            type=\"Hearts\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n\n        {shouldRenderLoadMoreButton && (\n          <button type=\"button\" onClick={this.fetchArticles}>\n            Загрузить ещё\n          </button>\n        )}\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}